<!doctype html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Cursos</title>

    <!-- BOOTSTRAP -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- ICONOS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">

    <style>

        /* FONDO PREMIUM MASCULINO */
        body {
          min-height: 100vh;
          font-family: system-ui, sans-serif;
          background:
              radial-gradient(circle at 15% 20%, rgba(52,95,144,.45), transparent 50%),
              radial-gradient(circle at 85% 25%, rgba(31,59,87,.4), transparent 55%),
              linear-gradient(135deg, #edf1f7, #e3e8ef);
          background-attachment: fixed;
          padding-bottom: 90px;
        }

        /* NAVBAR */
        .navbar {
          backdrop-filter: blur(10px);
          background: rgba(255,255,255,.85) !important;
          border-bottom: 1px solid rgba(0,0,0,.05);
        }

        /* CONTENEDOR */
        .container-box {
          background: white;
          border-radius: 18px;
          padding: 30px;
          box-shadow: 0 25px 60px rgba(0,0,0,.06);
          margin-top: 35px;
        }

        .title {
          font-weight: 700;
          font-size: 28px;
          color: #0f172a;
        }

        /* BOTONES */
        .btn-main {
          background: #4a8afe;
          border: none;
          font-weight: 600;
          padding: 9px 18px;
          border-radius: 12px;
          transition: .2s;
        }

        .btn-main:hover {
          background: #3a74d8;
        }

        .btn-secondary-soft {
          background: #e5e7eb;
          border: none;
          border-radius: 10px;
        }

        .btn-secondary-soft:hover {
          background: #d4d7dd;
        }

        .btn-light-soft {
          background: #f8fafc;
          border: none;
          border-radius: 10px;
        }

        .btn-light-soft:hover {
          background: #e8eaee;
        }

        /* INPUTS */
        input.form-control, select.form-select {
          border-radius: 12px;
          border: 2px solid transparent;
          background: #f8fafc;
          transition: .2s;
        }

        input.form-control:focus, select.form-select:focus {
          border-color: #4a8afe;
          box-shadow: 0 0 0 2px rgba(74,138,254,.25);
        }

        /* TABLA */
        table {
          border-radius: 16px;
          overflow: hidden;
        }

        thead {
          background: #f1f5f9;
          font-weight: 600;
          color: #0f172a;
        }

        .table-hover tbody tr:hover {
          background: rgba(52,95,144,.07);
        }

        /* ALERTA */
        .alert {
          border-radius: 14px;
          border: none;
          font-weight: 600;
        }

    </style>

</head>

<body>

<script>
    if (!localStorage.getItem("auth")) {
      location.href = "login.html";
    }
</script>


<!-- NAVBAR -->
<nav class="navbar navbar-light shadow-sm">
    <div class="container-fluid">

    <span class="navbar-brand fw-bold fs-4 text-dark">
      <i class="bi bi-mortarboard"></i> Sistema Académico
    </span>

        <div class="d-flex align-items-center">

            <a href="index.html" class="btn-secondary-soft btn-sm me-3">
                <i class="bi bi-arrow-left"></i> Inicio
            </a>

            <span class="me-3 fw-semibold text-capitalize" id="usuario-actual"></span>

            <button class="btn btn-danger btn-sm" onclick="logout()">
                <i class="bi bi-box-arrow-right"></i>
            </button>

        </div>

    </div>
</nav>



<!-- CONTENIDO -->
<div class="container container-box">

    <!-- ALERTAS -->
    <div id="alerta"></div>

    <!-- HEADER -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="title">Cursos</h2>

        <button class="btn-main" data-bs-toggle="modal" data-bs-target="#modalCrear">
            <i class="bi bi-bookmarks"></i> Nuevo curso
        </button>
    </div>


    <!-- TABLA CURSOS -->
    <div class="table-responsive">
        <table class="table table-hover align-middle">
            <thead>
            <tr>
                <th>ID</th>
                <th>Curso</th>
                <th>Cédula</th>
                <th>Alumno</th>
                <th class="text-center">Acciones</th>
            </tr>
            </thead>
            <tbody id="cursos-table"></tbody>
        </table>
    </div>

</div>



<!-- MODAL CREAR -->
<div class="modal fade" id="modalCrear" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <form onsubmit="crearCurso(event)">

                <div class="modal-header">
                    <h5 class="modal-title fw-semibold">
                        <i class="bi bi-bookmark-plus"></i> Nuevo curso
                    </h5>

                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body">

                    <div class="row g-3">

                        <div class="col-md-6">
                            <label class="form-label">Nombre del curso</label>
                            <input id="curso-nombre" class="form-control" required>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">Alumno</label>
                            <select id="curso-alumno" class="form-select" required>
                                <!-- se llena desde app.js -->
                            </select>
                        </div>

                    </div>

                </div>

                <div class="modal-footer">
                    <button class="btn-main w-100">
                        <i class="bi bi-check-circle"></i> Guardar
                    </button>
                </div>

            </form>

        </div>
    </div>
</div>



<!-- MODAL EDITAR -->
<div class="modal fade" id="modalEditar" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <form onsubmit="editarCurso(event)">

                <div class="modal-header">
                    <h5 class="modal-title fw-semibold">
                        <i class="bi bi-pencil-square"></i> Editar curso
                    </h5>

                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body">

                    <input id="editId" hidden>

                    <div class="row g-3">

                        <div class="col-md-6">
                            <label class="form-label">Nombre del curso</label>
                            <input id="editNombre" class="form-control" required>
                        </div>

                        <div class="col-md-6">
                            <label class="form-label">Alumno</label>
                            <select id="editAlumno" class="form-select" required>
                                <!-- se llena desde app.js -->
                            </select>
                        </div>

                    </div>

                </div>

                <div class="modal-footer">
                    <button class="btn-main w-100">
                        <i class="bi bi-check-circle"></i> Guardar cambios
                    </button>
                </div>

            </form>

        </div>
    </div>
</div>



<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="app.js"></script>

</body>
</html>
